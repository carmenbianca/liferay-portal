<%--
/*
 * SPDX-FileCopyrightText: Â© 2020 Liferay, Inc. <https://liferay.com>
 * SPDX-License-Identifier: LGPL-2.1-or-later
 */
--%>

<%
List<FormNavigatorEntry<Object>> formNavigatorEntries = FormNavigatorEntryUtil.getFormNavigatorEntries(id, user, formModelBean);

for (int i = 0; i < formNavigatorEntries.size(); i++) {
	final FormNavigatorEntry formNavigatorEntry = formNavigatorEntries.get(i);

	String sectionId = namespace + _getSectionId(formNavigatorEntry.getKey());
%>

	<!-- Begin fragment <%= sectionId %> -->

	<c:choose>
		<c:when test='<%= displayStyle.equals("panel") %>'>
			<liferay-ui:panel
				cssClass="list-unstyled panel-page-category"
				defaultState='<%= (i == 0) ? "open" : "closed" %>'
				extended="<%= true %>"
				id="<%= sectionId %>"
				title="<%= formNavigatorEntry.getLabel(locale) %>"
			>

				<%
				formNavigatorEntry.include(request, response);
				%>

			</liferay-ui:panel>
		</c:when>
		<c:otherwise>
			<div class="form-section <%= (curSection.equals(formNavigatorEntry.getKey()) || curSection.equals(sectionId)) ? "active" : StringPool.BLANK %>" id="<%= sectionId %>">

				<%
				PortalIncludeUtil.include(
					pageContext,
					new PortalIncludeUtil.HTMLRenderer() {

						public void renderHTML(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {
							formNavigatorEntry.include(request, response);
						}

					});
				%>

			</div>
		</c:otherwise>
	</c:choose>

	<!-- End fragment <%= sectionId %> -->

<%
}
%>